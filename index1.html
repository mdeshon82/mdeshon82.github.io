<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Matt DeShon's professional portfolio and personal website">
  <meta name="keywords" content="Matt DeShon, portfolio, network engineer, automation">
  <meta name="author" content="Matt DeShon">
  <title>Matt DeShon | Portfolio</title>
  <!-- Ensure latest CDN versions -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/react@18.3.1/umd/react.production.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/react-dom@18.3.1/umd/react-dom.production.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@babel/standalone@7.26.9/babel.min.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css">
  <style>
    body { font-family: 'Inter', sans-serif; }
    html, body, #root { height: 100%; margin: 0; }
    html { scroll-behavior: smooth; }
    .loading-spinner {
      border: 4px solid #f3f3f3;
      border-top: 4px solid #3498db;
      border-radius: 50%;
      width: 40px;
      height: 40px;
      animation: spin 1s linear infinite;
      margin: 20px auto;
    }
    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
  </style>
</head>
<body>
  <div id="root"></div>
  <div id="fallback" style={{ textAlign: 'center', padding: '20px' }}>
    <div className="loading-spinner"></div>
    <p>Loading... If this persists, please check the browser console (F12) for errors.</p>
  </div>
  <script type="text/babel" data-presets="react">
    // Basic Error Boundary
    class ErrorBoundary extends React.Component {
      state = { hasError: false, error: null };

      static getDerivedStateFromError(error) {
        return { hasError: true, error };
      }

      componentDidCatch(error, errorInfo) {
        console.error('Render error:', error, errorInfo);
      }

      render() {
        if (this.state.hasError) {
          return (
            <div style={{ textAlign: 'center', padding: '20px', color: 'red' }}>
              <h1>Error Rendering Page</h1>
              <p>{this.state.error?.message || 'Unknown error. Please check the console (F12) for details.'}</p>
            </div>
          );
        }
        return this.props.children;
      }
    }

    // Simplified Navigation
    const Nav = () => {
      const [isOpen, setIsOpen] = React.useState(false);

      return (
        <nav className="bg-white shadow-md sticky top-0 z-10">
          <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div className="flex justify-between h-16">
              <div className="flex items-center">
                <h1 className="text-xl font-bold">Matt DeShon</h1>
              </div>
              <div className="hidden  hidden md:flex items-center space-x-4">
                <a href="#home" className="text-gray-600 hover:text-blue-600" aria-label="Home">Home</a>
                <a href="#about" className="text-gray-600 hover:text-blue-600" aria-label="About">About</a>
                <a href="#contact" className="text-gray-600 hover:text-blue-600" aria-label="Contact">Contact</a>
              </div>
              <div className="md:hidden flex items-center">
                <button onClick={() => setIsOpen(!isOpen)} aria-label="Toggle menu">
                  <i className={`fas ${isOpen ? 'fa-times' : 'fa-bars'} text-2xl`}></i>
                </button>
              </div>
            </div>
          </div>
          {isOpen && (
            <div className="md:hidden">
              <div className="px-2 pt-2 pb-3 space-y-1 sm:px-3">
                <a href="#home" className="block text-gray-600 hover:text-blue-600 px-3 py-2" aria-label="Home">Home</a>
                <a href="#about" className="block text-gray-600 hover:text-blue-600 px-3 py-2" aria-label="About">About</a>
                <a href="#contact" className="block text-gray-600 hover:text-blue-600 px-3 py-2" aria-label="Contact">Contact</a>
              </div>
            </div>
          )}
        </nav>
      );
    };

    // Simplified Hero
    const Hero = () => (
      <section id="home" className="bg-gray-100 py-20 text-center">
        <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
          <img
            src="img/main_photo.jpeg"
            alt="Matt DeShon"
            className="w-32 h-32 rounded-full mx-auto mb-4 object-cover"
            loading="lazy"
            onError={(e) => (e.target.src = 'https://via.placeholder.com/128')}
          />
          <h1 className="text-4xl font-bold text-gray-900 sm:text-5xl">Hi, I'm Matt DeShon</h1>
          <p className="text-xl text-gray-600 mt-2 sm:text-2xl">Network Engineer | Automation Expert</p>
          <a
            href="#contact"
            className="mt-6 inline-block bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-transform transform hover:scale-105"
          >
            Get in Touch
          </a>
        </div>
      </section>
    );

    // Simplified App
    const App = () => (
      <ErrorBoundary>
        <main>
          <Nav />
          <Hero />
        </main>
      </ErrorBoundary>
    );

    // Render with error handling
    try {
      const root = ReactDOM.createRoot(document.getElementById('root'));
      root.render(<App />);
      document.getElementById('fallback').style.display = 'none';
    } catch (error) {
      console.error('Root render error:', error);
      document.getElementById('fallback').style.display = 'block';
    }
  </script>
</body>
</html>